<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§‰ëŒ€ì˜ í‰í˜• ë¬¸ì œ ì‹œë®¬ë ˆì´í„°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        h1 {
            color: #38f9d7;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .problem-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .problem-label {
            background: #43e97b;
            color: white;
            padding: 8px 15px;
            border-radius: 10px;
            display: inline-block;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .problem-text {
            font-size: 17px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
        }

        .question-highlight {
            background: #fff7ed;
            border: 2px solid #fb923c;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            color: #ea580c;
            margin-top: 15px;
            font-size: 16px;
        }

        .diagram {
            background: #f8fafc;
            border: 2px solid #cbd5e1;
            border-radius: 15px;
            padding: 40px 20px;
            margin: 20px 0;
            position: relative;
        }

        .lever-system {
            position: relative;
            height: 280px;
        }

        /* ì²œì¥ */
        .ceiling {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: repeating-linear-gradient(
                45deg,
                #475569,
                #475569 10px,
                #64748b 10px,
                #64748b 20px
            );
        }

        .ceiling-label {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            font-weight: bold;
            color: #475569;
        }

        /* ì‹¤ (ì²œì¥ì—ì„œ ë§‰ëŒ€ë¡œ) */
        .thread-to-rod {
            position: absolute;
            top: 4px;
            width: 2px;
            height: 80px;
            background: #1e293b;
        }

        /* ë§‰ëŒ€ */
        .rod {
            position: absolute;
            top: 84px;
            left: 5%;
            right: 5%;
            height: 10px;
            background: linear-gradient(to bottom, #a16207, #78350f);
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* ë°›ì¹¨ëŒ€ */
        .fulcrum {
            position: absolute;
            top: 94px;
            width: 0;
            height: 0;
            border-left: 18px solid transparent;
            border-right: 18px solid transparent;
            border-bottom: 30px solid #475569;
        }

        .fulcrum-base {
            position: absolute;
            top: 124px;
            width: 50px;
            height: 15px;
            background: #64748b;
            border-radius: 3px;
        }

        .fulcrum-label {
            position: absolute;
            top: 145px;
            font-size: 13px;
            font-weight: bold;
            color: #1e293b;
        }

        /* pì  í‘œì‹œ */
        .p-marker {
            position: absolute;
            top: 70px;
            width: 24px;
            height: 24px;
            background: white;
            border: 3px solid #0891b2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #0891b2;
            font-size: 14px;
        }

        /* ë¬¼ì²´ë¥¼ ë§¤ë‹¤ëŠ” ì‹¤ */
        .thread-to-object {
            position: absolute;
            top: 94px;
            width: 2px;
            height: 50px;
            background: #1e293b;
        }

        /* ë¬¼ì²´ (ìƒì) */
        .object-box {
            position: absolute;
            top: 144px;
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border: 3px solid #d97706;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 15px;
            color: #78350f;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        /* ê±°ë¦¬ í‘œì‹œ í™”ì‚´í‘œ */
        .distance-arrow {
            position: absolute;
            height: 3px;
            background: #dc2626;
        }

        .distance-arrow::before,
        .distance-arrow::after {
            content: '';
            position: absolute;
            width: 3px;
            height: 18px;
            background: #dc2626;
            top: -7.5px;
        }

        .distance-arrow::before {
            left: 0;
        }

        .distance-arrow::after {
            right: 0;
        }

        /* ê±°ë¦¬ ë¼ë²¨ */
        .distance-label {
            position: absolute;
            font-size: 16px;
            font-weight: bold;
            color: #dc2626;
            background: white;
            padding: 4px 10px;
            border-radius: 5px;
            border: 2px solid #dc2626;
        }

        /* ë§‰ëŒ€ ë¼ë²¨ */
        .rod-label {
            position: absolute;
            top: 105px;
            right: 8%;
            font-size: 13px;
            font-weight: bold;
            color: #78350f;
            background: #fef3c7;
            padding: 3px 8px;
            border-radius: 5px;
            border: 2px solid #d97706;
        }

        .input-section {
            background: #f0fdf4;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .input-label {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .input-box {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            transition: border-color 0.3s;
        }

        .input-box:focus {
            outline: none;
            border-color: #43e97b;
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .btn {
            padding: 18px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn-check {
            background: #4caf50;
            color: white;
        }

        .btn-check:active {
            transform: scale(0.95);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .btn-new {
            background: #43e97b;
            color: white;
        }

        .btn-new:active {
            transform: scale(0.95);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .answer-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .answer-card.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result {
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 16px;
            text-align: center;
            font-weight: bold;
        }

        .result.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .result.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .solution {
            background: #e0f2fe;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #0ea5e9;
        }

        .solution-title {
            font-size: 18px;
            font-weight: bold;
            color: #0369a1;
            margin-bottom: 15px;
        }

        .solution-step {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            line-height: 1.8;
        }

        .formula {
            background: #fef3c7;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            text-align: center;
            font-size: 15px;
        }

        .help-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .help-title {
            font-size: 18px;
            font-weight: bold;
            color: #43e97b;
            margin-bottom: 15px;
        }

        .help-item {
            margin: 12px 0;
            padding-left: 25px;
            position: relative;
            line-height: 1.6;
        }

        .help-item::before {
            content: "â–ª";
            position: absolute;
            left: 0;
            color: #43e97b;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš–ï¸ ë§‰ëŒ€ì˜ í‰í˜• ë¬¸ì œ</h1>
            <p class="subtitle">ëŒë¦¼í˜ì˜ í‰í˜•</p>
        </div>

        <div class="problem-card">
            <div class="problem-label">ğŸ“ ë¬¸ì œ</div>
            <div class="problem-text" id="problemText"></div>
            
            <div class="diagram">
                <div class="ceiling-label">ì²œì¥</div>
                <div class="lever-system" id="leverSystem">
                </div>
            </div>

            <div class="question-highlight" id="questionText"></div>

            <div class="input-section">
                <div class="input-label" id="inputLabel">ğŸ’¡ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”</div>
                <input type="number" class="input-box" id="answerInput" placeholder="ì˜ˆ: 20" step="1">
            </div>

            <div class="button-group">
                <button class="btn btn-check" onclick="checkAnswer()">âœ“ ì •ë‹µ í™•ì¸</button>
                <button class="btn btn-new" onclick="newProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
            </div>
        </div>

        <div class="answer-card" id="answerCard">
            <div class="result" id="resultDiv"></div>
            <div class="solution">
                <div class="solution-title">ğŸ“š í’€ì´ ê³¼ì •</div>
                <div class="solution-step">
                    <strong>1ë‹¨ê³„: ì£¼ì–´ì§„ ê°’ í™•ì¸</strong>
                    <div id="givenValues"></div>
                </div>
                <div class="solution-step">
                    <strong>2ë‹¨ê³„: ëŒë¦¼í˜ í‰í˜• ì¡°ê±´</strong>
                    <div class="formula">ì‹œê³„ë°©í–¥ ëŒë¦¼í˜ = ë°˜ì‹œê³„ë°©í–¥ ëŒë¦¼í˜</div>
                    <div>ë°›ì¹¨ëŒ€(pì )ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì¢Œìš° ëŒë¦¼í˜ì´ ê°™ì•„ì•¼ í‰í˜•ì„ ì´ë£¹ë‹ˆë‹¤.</div>
                </div>
                <div class="solution-step" id="solutionDetail">
                </div>
            </div>
        </div>

        <div class="help-card">
            <div class="help-title">ğŸ’¡ ë„ì›€ë§</div>
            <div class="help-item">ëŒë¦¼í˜ = í˜ Ã— ê±°ë¦¬</div>
            <div class="help-item">í‰í˜• ì¡°ê±´: ë°›ì¹¨ëŒ€(pì ) ì¤‘ì‹¬ìœ¼ë¡œ ì¢Œìš° ëŒë¦¼í˜ì´ ê°™ìŒ</div>
            <div class="help-item">ë¬¼ì²´ì˜ ë¬´ê²Œê°€ ë°›ì¹¨ëŒ€ ì™¼ìª½ì—ì„œ ë§‰ëŒ€ë¥¼ ë‹¹ê¹€</div>
            <div class="help-item">ì‹¤ì´ ë°›ì¹¨ëŒ€ ì˜¤ë¥¸ìª½ì—ì„œ ë§‰ëŒ€ë¥¼ ìœ„ë¡œ ë‹¹ê¹€</div>
            <div class="help-item">ë‹µì€ ì •ìˆ˜ë¡œ ì…ë ¥í•˜ì„¸ìš”</div>
        </div>
    </div>

    <script>
        let currentProblem = {};

        function generateProblem() {
            // ë‹¤ì–‘í•œ ë¬¸ì œ ìœ í˜•
            const problemTypes = [
                {
                    type: 'ceiling',
                    combinations: [
                        {weight: 60, dist1: 1, dist2: 2}, 
                        {weight: 80, dist1: 1, dist2: 3}, 
                        {weight: 90, dist1: 2, dist2: 4}, 
                        {weight: 60, dist1: 2, dist2: 4}, 
                        {weight: 80, dist1: 2, dist2: 2},
                        {weight: 100, dist1: 1, dist2: 4},
                        {weight: 75, dist1: 2, dist2: 3},
                        {weight: 50, dist1: 2, dist2: 3},
                    ],
                    getText: (w, d1, d2) => `ê·¸ë¦¼ê³¼ ê°™ì´ ë¬´ê²Œê°€ <strong>${w}N</strong>ì¸ ë¬¼ì²´ê°€ ë°›ì¹¨ëŒ€ë¡œë¶€í„° ê¸¸ì´ <strong>${d1}m</strong>ë§Œí¼ ë–¨ì–´ì§„ ê³³ì— ë§¤ë‹¬ë ¤ ìˆëŠ” ë§‰ëŒ€ê°€ ì‹¤ë¡œ ì²œì¥ì— ìˆ˜í‰ì¸ ìƒíƒœë¡œ ì •ì§€í•´ ìˆë‹¤.`,
                    getQuestion: () => `ì²œì¥ì´ ì‹¤ì„ ë‹¹ê¸°ëŠ” í˜ì€ ëª‡ Nì¸ê°€?`,
                    calculateAnswer: (w, d1, d2) => (w * d1) / d2
                },
                {
                    type: 'seesaw',
                    combinations: [
                        {weight: 40, dist1: 2, dist2: 4},
                        {weight: 60, dist1: 1, dist2: 2},
                        {weight: 50, dist1: 2, dist2: 5},
                        {weight: 80, dist1: 1, dist2: 4},
                        {weight: 30, dist1: 3, dist2: 2},
                    ],
                    getText: (w, d1, d2) => `ì‹œì†Œì˜ ë°›ì¹¨ëŒ€ì—ì„œ <strong>${d1}m</strong> ë–¨ì–´ì§„ ê³³ì— <strong>${w}kg</strong>ì˜ ì–´ë¦°ì´ê°€ ì•‰ì•„ ìˆë‹¤. ì‹œì†Œê°€ ìˆ˜í‰ì„ ì´ë£¨ë ¤ë©´ ë°›ì¹¨ëŒ€ ë°˜ëŒ€í¸ <strong>${d2}m</strong> ë–¨ì–´ì§„ ê³³ì— ëª‡ kgì˜ ì‚¬ëŒì´ ì•‰ì•„ì•¼ í•˜ëŠ”ê°€? (ë‹¨, ë§‰ëŒ€ì˜ ë¬´ê²ŒëŠ” ë¬´ì‹œí•œë‹¤)`,
                    getQuestion: () => `í•„ìš”í•œ ì‚¬ëŒì˜ ì§ˆëŸ‰ì€ ëª‡ kgì¸ê°€?`,
                    calculateAnswer: (w, d1, d2) => (w * d1) / d2
                },
                {
                    type: 'crane',
                    combinations: [
                        {weight: 80, dist1: 2, dist2: 4},
                        {weight: 60, dist1: 1, dist2: 3},
                        {weight: 100, dist1: 2, dist2: 5},
                        {weight: 90, dist1: 2, dist2: 6},
                    ],
                    getText: (w, d1, d2) => `í¬ë ˆì¸ì´ <strong>${w}N</strong>ì˜ ë¬¼ì²´ë¥¼ ë“¤ì–´ì˜¬ë¦¬ê³  ìˆë‹¤. í¬ë ˆì¸ ì§€ì§€ëŒ€(ë°›ì¹¨ëŒ€)ì—ì„œ ë¬¼ì²´ê¹Œì§€ì˜ ê±°ë¦¬ëŠ” <strong>${d1}m</strong>ì´ê³ , ì§€ì§€ëŒ€ì—ì„œ ê· í˜•ì¶”ê¹Œì§€ì˜ ê±°ë¦¬ëŠ” <strong>${d2}m</strong>ì´ë‹¤.`,
                    getQuestion: () => `í¬ë ˆì¸ì´ ìˆ˜í‰ì„ ìœ ì§€í•˜ë ¤ë©´ ê· í˜•ì¶”ì˜ ë¬´ê²ŒëŠ” ëª‡ Nì´ì–´ì•¼ í•˜ëŠ”ê°€?`,
                    calculateAnswer: (w, d1, d2) => (w * d1) / d2
                },
                {
                    type: 'bridge',
                    combinations: [
                        {weight: 60, dist1: 1, dist2: 2},
                        {weight: 80, dist1: 2, dist2: 4},
                        {weight: 50, dist1: 2, dist2: 3},
                        {weight: 100, dist1: 1, dist2: 4},
                    ],
                    getText: (w, d1, d2) => `ë‹¤ë¦¬ ìœ„ì˜ ë°›ì¹¨ëŒ€ì—ì„œ <strong>${d1}m</strong> ë–¨ì–´ì§„ ê³³ì— <strong>${w}N</strong>ì˜ ì§ì´ ë†“ì—¬ìˆë‹¤. ë°›ì¹¨ëŒ€ ë°˜ëŒ€í¸ <strong>${d2}m</strong> ì§€ì ì„ ì¼€ì´ë¸”ë¡œ ì¡ì•„ë‹¹ê²¨ ë‹¤ë¦¬ê°€ ìˆ˜í‰ì„ ì´ë£¨ê²Œ í•œë‹¤.`,
                    getQuestion: () => `ì¼€ì´ë¸”ì´ ë‹¹ê¸°ëŠ” í˜ì€ ëª‡ Nì¸ê°€?`,
                    calculateAnswer: (w, d1, d2) => (w * d1) / d2
                },
                {
                    type: 'lever_tool',
                    combinations: [
                        {weight: 80, dist1: 1, dist2: 4},
                        {weight: 60, dist1: 1, dist2: 3},
                        {weight: 100, dist1: 1, dist2: 5},
                        {weight: 90, dist1: 2, dist2: 6},
                    ],
                    getText: (w, d1, d2) => `ì§€ë ›ëŒ€ë¥¼ ì´ìš©í•´ <strong>${w}N</strong>ì˜ ë¬´ê±°ìš´ ë°”ìœ„ë¥¼ ë“¤ì–´ì˜¬ë¦¬ë ¤ê³  í•œë‹¤. ë°›ì¹¨ëŒ€ì—ì„œ ë°”ìœ„ê¹Œì§€ì˜ ê±°ë¦¬ëŠ” <strong>${d1}m</strong>ì´ê³ , ë°›ì¹¨ëŒ€ì—ì„œ í˜ì„ ê°€í•˜ëŠ” ì§€ì ê¹Œì§€ì˜ ê±°ë¦¬ëŠ” <strong>${d2}m</strong>ì´ë‹¤.`,
                    getQuestion: () => `ë°”ìœ„ë¥¼ ë“¤ì–´ì˜¬ë¦¬ê¸° ìœ„í•´ í•„ìš”í•œ ìµœì†Œí•œì˜ í˜ì€ ëª‡ Nì¸ê°€?`,
                    calculateAnswer: (w, d1, d2) => (w * d1) / d2
                }
            ];
            
            // ëœë¤ìœ¼ë¡œ ë¬¸ì œ ìœ í˜• ì„ íƒ
            const selectedType = problemTypes[Math.floor(Math.random() * problemTypes.length)];
            const selected = selectedType.combinations[Math.floor(Math.random() * selectedType.combinations.length)];
            
            const weight = selected.weight;
            const dist1 = selected.dist1;
            const dist2 = selected.dist2;
            const totalDist = dist1 + dist2;
            
            const answer = selectedType.calculateAnswer(weight, dist1, dist2);
            const torque = weight * dist1;
            
            currentProblem = {
                weight: weight,
                dist1: dist1,
                dist2: dist2,
                threadForce: answer,
                torque: torque,
                totalDist: totalDist,
                answer: answer,
                problemType: selectedType.type
            };

            document.getElementById('problemText').innerHTML = selectedType.getText(weight, dist1, dist2);
            document.getElementById('questionText').innerHTML = selectedType.getQuestion();
            
            // ì…ë ¥ ë¼ë²¨ ì—…ë°ì´íŠ¸
            const unit = selectedType.type === 'seesaw' ? 'kg' : 'N';
            document.getElementById('inputLabel').textContent = `ğŸ’¡ ë‹µì„ ì…ë ¥í•˜ì„¸ìš” (${unit} ë‹¨ìœ„)`;
            
            // ë‹¤ì´ì–´ê·¸ë¨ ê·¸ë¦¬ê¸°
            drawDiagram();
            
            // ì´ˆê¸°í™”
            document.getElementById('answerInput').value = '';
            document.getElementById('answerCard').classList.remove('show');
        }

        function drawDiagram() {
            const leverSystem = document.getElementById('leverSystem');
            const weight = currentProblem.weight;
            const dist1 = currentProblem.dist1;
            const dist2 = currentProblem.dist2;
            const totalDist = dist1 + dist2;
            const problemType = currentProblem.problemType;
            
            // ìœ„ì¹˜ ê³„ì‚° (ì „ì²´ ë§‰ëŒ€ ê¸¸ì´ë¥¼ 90%ë¡œ)
            const rodStart = 5;
            const rodEnd = 95;
            const rodLength = rodEnd - rodStart;
            
            const fulcrumPercent = rodStart + (dist1 / totalDist) * rodLength;
            const objectPercent = rodStart;
            const threadPercent = rodEnd;
            
            // ë¬¸ì œ ìœ í˜•ë³„ë¡œ ë‹¤ë¥¸ ë‹¤ì´ì–´ê·¸ë¨
            if (problemType === 'ceiling') {
                // ê¸°ì¡´ ì²œì¥-ë§‰ëŒ€-ë¬¼ì²´ êµ¬ì¡°
                leverSystem.innerHTML = `
                    <div class="ceiling"></div>
                    <div class="thread-to-rod" style="left: ${threadPercent}%;"></div>
                    <div class="rod"></div>
                    <div class="rod-label">ë§‰ëŒ€</div>
                    <div class="fulcrum" style="left: ${fulcrumPercent}%; transform: translateX(-50%);"></div>
                    <div class="fulcrum-base" style="left: ${fulcrumPercent}%; transform: translateX(-50%);"></div>
                    <div class="fulcrum-label" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">ë°›ì¹¨ëŒ€</div>
                    <div class="p-marker" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">p</div>
                    <div class="thread-to-object" style="left: ${objectPercent}%;"></div>
                    <div class="object-box" style="left: ${objectPercent}%; transform: translateX(-50%);">${weight}N</div>
                    <div class="distance-arrow" style="left: ${objectPercent}%; width: ${fulcrumPercent - objectPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(objectPercent + fulcrumPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist1}m</div>
                    <div class="distance-arrow" style="left: ${fulcrumPercent}%; width: ${threadPercent - fulcrumPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(fulcrumPercent + threadPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist2}m</div>
                `;
            } else if (problemType === 'seesaw') {
                // ì‹œì†Œ êµ¬ì¡°
                leverSystem.innerHTML = `
                    <div class="rod" style="background: linear-gradient(to bottom, #06b6d4, #0891b2);"></div>
                    <div class="fulcrum" style="left: ${fulcrumPercent}%; transform: translateX(-50%);"></div>
                    <div class="fulcrum-base" style="left: ${fulcrumPercent}%; transform: translateX(-50%);"></div>
                    <div class="fulcrum-label" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">ë°›ì¹¨ëŒ€</div>
                    <div class="p-marker" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">p</div>
                    <div style="position: absolute; left: ${objectPercent}%; top: 50px; transform: translateX(-50%); font-size: 40px;">ğŸ§’</div>
                    <div class="object-box" style="left: ${objectPercent}%; transform: translateX(-50%); background: #e0f2fe; border-color: #0891b2;">${weight}kg</div>
                    <div style="position: absolute; left: ${threadPercent}%; top: 50px; transform: translateX(-50%); font-size: 40px;">â“</div>
                    <div class="distance-arrow" style="left: ${objectPercent}%; width: ${fulcrumPercent - objectPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(objectPercent + fulcrumPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist1}m</div>
                    <div class="distance-arrow" style="left: ${fulcrumPercent}%; width: ${threadPercent - fulcrumPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(fulcrumPercent + threadPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist2}m</div>
                `;
            } else if (problemType === 'crane') {
                // í¬ë ˆì¸ êµ¬ì¡°
                leverSystem.innerHTML = `
                    <div style="position: absolute; left: ${fulcrumPercent}%; top: -20px; width: 60px; height: 110px; background: #64748b; transform: translateX(-50%); border-radius: 5px;"></div>
                    <div class="rod" style="background: linear-gradient(to bottom, #ef4444, #dc2626);"></div>
                    <div style="position: absolute; left: ${fulcrumPercent}%; top: 70px; width: 30px; height: 30px; background: #475569; border-radius: 50%; transform: translateX(-50%);"></div>
                    <div class="fulcrum-label" style="left: ${fulcrumPercent}%; top: 105px; transform: translateX(-50%);">ì§€ì§€ëŒ€</div>
                    <div class="p-marker" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">p</div>
                    <div class="thread-to-object" style="left: ${objectPercent}%; background: #1e293b;"></div>
                    <div class="object-box" style="left: ${objectPercent}%; transform: translateX(-50%);">${weight}N</div>
                    <div style="position: absolute; left: ${threadPercent}%; top: 144px; transform: translateX(-50%); width: 50px; height: 50px; background: #64748b; border: 3px solid #475569; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: white;">ê· í˜•ì¶”</div>
                    <div class="distance-arrow" style="left: ${objectPercent}%; width: ${fulcrumPercent - objectPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(objectPercent + fulcrumPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist1}m</div>
                    <div class="distance-arrow" style="left: ${fulcrumPercent}%; width: ${threadPercent - fulcrumPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(fulcrumPercent + threadPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist2}m</div>
                `;
            } else if (problemType === 'bridge') {
                // ë‹¤ë¦¬ êµ¬ì¡°
                leverSystem.innerHTML = `
                    <div class="rod" style="background: linear-gradient(to bottom, #94a3b8, #64748b); height: 12px;"></div>
                    <div style="position: absolute; left: ${fulcrumPercent}%; top: 90px; width: 8px; height: 40px; background: #475569; transform: translateX(-50%);"></div>
                    <div style="position: absolute; left: ${fulcrumPercent}%; top: 130px; width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-bottom: 30px solid #334155; transform: translateX(-50%);"></div>
                    <div class="fulcrum-label" style="left: ${fulcrumPercent}%; top: 165px; transform: translateX(-50%);">êµê°</div>
                    <div class="p-marker" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">p</div>
                    <div class="object-box" style="left: ${objectPercent}%; top: 40px; transform: translateX(-50%);">${weight}N</div>
                    <div class="thread-to-rod" style="left: ${threadPercent}%; background: #475569; height: 50px;"></div>
                    <div style="position: absolute; left: ${threadPercent}%; top: -25px; transform: translateX(-50%); font-size: 14px; font-weight: bold; color: #475569; background: #e2e8f0; padding: 3px 8px; border-radius: 5px;">ì¼€ì´ë¸”</div>
                    <div class="distance-arrow" style="left: ${objectPercent}%; width: ${fulcrumPercent - objectPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(objectPercent + fulcrumPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist1}m</div>
                    <div class="distance-arrow" style="left: ${fulcrumPercent}%; width: ${threadPercent - fulcrumPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(fulcrumPercent + threadPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist2}m</div>
                `;
            } else if (problemType === 'lever_tool') {
                // ì§€ë ›ëŒ€ ë„êµ¬
                leverSystem.innerHTML = `
                    <div class="rod" style="background: linear-gradient(to bottom, #78350f, #451a03);"></div>
                    <div class="fulcrum" style="left: ${fulcrumPercent}%; transform: translateX(-50%); border-bottom-color: #78350f;"></div>
                    <div class="fulcrum-base" style="left: ${fulcrumPercent}%; transform: translateX(-50%); background: #78350f; width: 40px;"></div>
                    <div class="fulcrum-label" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">ë°›ì¹¨ëŒ€</div>
                    <div class="p-marker" style="left: ${fulcrumPercent}%; transform: translateX(-50%);">p</div>
                    <div style="position: absolute; left: ${objectPercent}%; top: 130px; transform: translateX(-50%); font-size: 50px;">ğŸª¨</div>
                    <div class="object-box" style="left: ${objectPercent}%; transform: translateX(-50%); background: #a8a29e; border-color: #78716c; top: 185px; height: 30px; font-size: 13px;">${weight}N</div>
                    <div style="position: absolute; left: ${threadPercent}%; top: 50px; transform: translateX(-50%); font-size: 40px;">ğŸ‘‡</div>
                    <div style="position: absolute; left: ${threadPercent}%; top: 100px; transform: translateX(-50%); font-size: 12px; font-weight: bold; color: #dc2626; background: #fee2e2; padding: 3px 8px; border-radius: 5px;">í˜ì„ ê°€í•¨</div>
                    <div class="distance-arrow" style="left: ${objectPercent}%; width: ${fulcrumPercent - objectPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(objectPercent + fulcrumPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist1}m</div>
                    <div class="distance-arrow" style="left: ${fulcrumPercent}%; width: ${threadPercent - fulcrumPercent}%; top: 210px;"></div>
                    <div class="distance-label" style="left: ${(fulcrumPercent + threadPercent) / 2}%; top: 225px; transform: translateX(-50%);">${dist2}m</div>
                `;
            }
        }

        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('answerInput').value);
            
            if (isNaN(userAnswer)) {
                alert('ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const correctAnswer = currentProblem.answer;
            const isCorrect = (userAnswer === correctAnswer);

            const resultDiv = document.getElementById('resultDiv');
            if (isCorrect) {
                resultDiv.className = 'result correct';
                resultDiv.innerHTML = 'ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ì˜í–ˆì–´ìš”!';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.innerHTML = `âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í•œë²ˆ í’€ì–´ë³´ì„¸ìš”!<br>ì •ë‹µ: ${correctAnswer}${currentProblem.problemType === 'seesaw' ? 'kg' : 'N'}`;
            }

            // í’€ì´ ê³¼ì • í‘œì‹œ
            const unit = currentProblem.problemType === 'seesaw' ? 'kg' : 'N';
            document.getElementById('givenValues').innerHTML = 
                `â€¢ ì™¼ìª½ì˜ ë¬´ê²Œ(ë˜ëŠ” ì§ˆëŸ‰) = ${currentProblem.weight}${unit}<br>` +
                `â€¢ ì™¼ìª½ ê±°ë¦¬(ë°›ì¹¨ëŒ€ë¡œë¶€í„°) = ${currentProblem.dist1}m<br>` +
                `â€¢ ì˜¤ë¥¸ìª½ ê±°ë¦¬(ë°›ì¹¨ëŒ€ë¡œë¶€í„°) = ${currentProblem.dist2}m`;

            document.getElementById('solutionDetail').innerHTML = 
                `<strong>3ë‹¨ê³„: í‰í˜• ì¡°ê±´ ì ìš©</strong>` +
                `<div style="margin-top: 10px;">` +
                `ë°›ì¹¨ëŒ€(pì )ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ëŒë¦¼í˜ í‰í˜•:<br>` +
                `<div style="margin: 15px 0; padding: 10px; background: #f1f5f9; border-radius: 8px;">` +
                `ì™¼ìª½ ëŒë¦¼í˜ (ì‹œê³„ë°©í–¥) = ì˜¤ë¥¸ìª½ ëŒë¦¼í˜ (ë°˜ì‹œê³„ë°©í–¥)` +
                `</div>` +
                `<div class="formula">${currentProblem.weight} Ã— ${currentProblem.dist1} = êµ¬í•˜ë ¤ëŠ” í˜(F) Ã— ${currentProblem.dist2}</div>` +
                `<div class="formula">${currentProblem.torque} = F Ã— ${currentProblem.dist2}</div>` +
                `<div class="formula">F = ${currentProblem.torque} Ã· ${currentProblem.dist2}</div>` +
                `<div class="formula">F = ${correctAnswer}${currentProblem.problemType === 'seesaw' ? 'kg' : 'N'}</div>` +
                `<div style="margin-top: 15px;">ë”°ë¼ì„œ ë‹µì€ <strong>${correctAnswer}${currentProblem.problemType === 'seesaw' ? 'kg' : 'N'}</strong>ì…ë‹ˆë‹¤.</div>` +
                `</div>`;

            document.getElementById('answerCard').classList.add('show');
            document.getElementById('answerCard').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function newProblem() {
            generateProblem();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ì—”í„°í‚¤ë¡œ ì •ë‹µ í™•ì¸
        document.getElementById('answerInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // í˜ì´ì§€ ë¡œë“œì‹œ ì²« ë¬¸ì œ ìƒì„±
        generateProblem();
    </script>
</body>
</html>